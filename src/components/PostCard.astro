---
export interface Props {
  title: string;
  summary: string;
  date: Date;
  category?: string;
  tags?: string[];
  image?: string;
  slug: string;
  readingTime: number;
}

const { title, summary, date, category, tags, image, slug, readingTime } = Astro.props;
---

<article class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 group">
  <!-- Image -->
  <div class="aspect-w-16 aspect-h-9 bg-rose-dust relative overflow-hidden">
    {image ? (
      <img src={image} alt={title} class="w-full h-48 sm:h-56 md:h-64 object-cover group-hover:scale-110 transition-transform duration-500" />
    ) : (
      <div class="w-full h-48 sm:h-56 md:h-64 bg-gradient-to-br from-rose-dust to-coral-pink flex items-center justify-center">
        <svg class="w-12 h-12 sm:w-16 sm:h-16 text-white/70" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path>
        </svg>
      </div>
    )}
    
    <!-- Category Badge -->
    {category && (
      <div class="absolute top-3 left-3">
        <span class="inline-block px-2 sm:px-3 py-1 bg-warm-coral text-white text-xs sm:text-sm font-medium rounded-full">
          {category}
        </span>
      </div>
    )}
    
    <!-- Reading Time -->
    <div class="absolute top-3 right-3">
      <span class="inline-block px-2 sm:px-3 py-1 bg-black/50 text-white text-xs sm:text-sm font-medium rounded-full backdrop-blur-sm">
        {readingTime} min
      </span>
    </div>
  </div>
  
  <!-- Content -->
  <div class="p-4 sm:p-6 md:p-8">
    <h2 class="text-lg sm:text-xl md:text-2xl font-serif font-semibold text-charcoal mb-2 sm:mb-3 group-hover:text-warm-coral transition-colors duration-300 line-clamp-2">
      <a href={`/posts/${slug}`}>{title}</a>
    </h2>
    
    <p class="text-sm sm:text-base text-charcoal/70 mb-3 sm:mb-4 leading-relaxed line-clamp-3">
      {summary}
    </p>
    
    <!-- Meta Info -->
    <div class="flex items-center justify-between text-xs sm:text-sm text-charcoal/60 mb-4 sm:mb-6">
      <time datetime={date.toISOString().split('T')[0]}>
        {date.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' })}
      </time>
      {tags && tags.length > 0 && (
        <div class="flex flex-wrap gap-1">
          {tags.slice(0, 2).map(tag => (
            <span class="px-2 py-1 bg-rose-dust/50 text-charcoal/70 rounded-full text-xs">
              #{tag}
            </span>
          ))}
        </div>
      )}
    </div>
    
    <!-- Read More Button -->
    <a href={`/posts/${slug}`} class="inline-flex items-center text-warm-coral hover:text-coral-pink font-medium text-sm sm:text-base transition-colors duration-300 group-hover:translate-x-1 transform">
      Leer Historia
      <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
      </svg>
    </a>
  </div>
</article>